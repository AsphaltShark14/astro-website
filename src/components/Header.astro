---
import HeaderLink from './HeaderLink.astro';
import { SITE_TITLE } from '../config';
---

<header>
	<nav class="border-gray-200 px-2 sm:px-4 py-2.5 rounded-b bg-gray-900">
  <div class="container flex flex-nowrap items-center justify-between mx-auto">
    <a href="/" class="flex items-center">
        <img src="/assets/logo.png" class="h-6 mr-3 sm:h-9" alt="Site Logo" />
        <span class="self-center text-xl font-semibold dark:text-white">{SITE_TITLE}</span>
    </a>
	  <div class="relative my-auto mr-5 md:hidden">
        <button aria-hidden="true" aria-label="close" class="text-3xl mb-1 font-bold text-blue-700 aria-hidden:hidden" id="close">&#x2715;</button>
        <button aria-hidden="false" aria-label="open" class="aria-hidden:hidden" id="open">
          <div class="w-6 h-1 bg-blue-700 rounded-md" />
          <div class="w-6 h-1 mt-1 bg-blue-700 rounded-md" />
          <div class="w-6 h-1 mt-1 bg-blue-700 rounded-md" />
        </button>
    </div>
	  <div aria-hidden="true" class="w-full md:justify-end aria-hidden:hidden aria-hidden:md:flex z-10" id="box">
     <ul class="flex flex-col rounded-lg mt-2 md:flex-row md:gap-4">
        <li>
		      <HeaderLink href="/" class="link block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 dark:text-white" aria-current="page">O nas</HeaderLink>
        </li>
        <li>
          <HeaderLink href="/pricing" class="link block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Cennik</HeaderLink>
        </li>
        <li>
          <HeaderLink href="/contact" class="link block py-2 pl-3 pr-4 text-gray-700 rounded hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">Kontakt</HeaderLink>
        </li>
      </ul>
    </div>
  </div>
</nav>
</header>

<script is:inline>
  const box = document.querySelector("#box");
  const open = document.querySelector("#open");
  const close = document.querySelector("#close");
  const links = document.querySelectorAll(".link");

  const openMenu = () => {
    box.setAttribute("aria-hidden", "false")
    open.setAttribute("aria-hidden", "true")
    close.setAttribute("aria-hidden", "false")
  }

  const closeMenu = () => {
    box.setAttribute("aria-hidden", "true")
    open.setAttribute("aria-hidden", "false")
    close.setAttribute("aria-hidden", "true")
  }

  open.addEventListener("click", openMenu);
  close.addEventListener("click", closeMenu);
  links.forEach(link => {
    link.addEventListener("click", closeMenu);
  })

</script>
